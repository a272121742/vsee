import { Story, Preview, Meta, Props } from '@storybook/addon-docs/blocks';

<Meta title="框架/前言" />

# 前言

关于`vsee`框架，其实中间充满了作者内心的很多苦和累。希望能在这里进行一个有关他缘起的介绍。

## 缘起

2017年的时候，公司发展已经出现了比较大的技术问题，其中的一个部门做着类似外包的内容，然而产量有点跟不上现在网络发展的节奏。公司也是计划从传统行业转型，步入互联网的时代，但一个外包部门如何也能快速吃上互联网这碗饭着实不简单。公司决定由我负责统一全公司的技术栈，然后通过规范化、标准化、统一化的方式将所有的前端技术都能够连接起来。我一直以来是担任公司的技术研发，之前做过很多前端的研究性工作，早期创业的时候也尝试做过自己的框架。这个机会对我来说非常重要，因为我一直以来想要实现的前端架构就要实现了。经过一段时间的调研，我选择使用`vue`技术栈来进行改良全公司所有的前端技术业务。

早在2011年的时候，就已经对`JavaScript`非常的喜欢，也是这个原因，很早就冒着风险和朋友去创业，使用的就是`Nodejs`。当时，我是从`Java`转型过来，对`JavaScript`一直以来有个疑问，为啥它就不能按照完全面向对象的方式进行开发。尤其是`AOP`，对于整个项目来说是非常重要的。好再像`Dojo`这样的大框架已经解决了这个问题，我也将基于`DAO`模型的开发模式引入在了`Nodejs`项目中。之后创业失败，重新回到上班的日子里。新的公司还不错，氛围支持我搞技术研发，自己也在期间研发出基于`Meteor`的组件体系。但之后因为`MongoDB`数据库产生的一些问题无法改善，最终牵连到我的架构中，整个框架不再使用了。虽然后面的日子里也不再会去触碰架构，但自己仍然希望能有一个属于自己亲历打造的框架。

## 构思

我的构思非常的简单，而这些都是在服务端技术中已经非常成熟的，其实前端也是有的，只是分法不一样而已。早期前端都是农耕时代，也多亏了`Nodejs`的出现，致使前端开启了工程化之路。工程化是提升了开发的工作效率，但是并没有减产。在公司中经常遇到的问题就是一个项目没办法进行持续的迭代，维护的成本比重新做的成本还要高出一些。作为外包部门，经常会出现明明很赚钱的项目，做到快结束的时候发现已经在亏钱了。所以我一直在思考，能不能把`Java`的那套模式引入到前端工程中来。我希望的就是提供一个大的生产平台（工厂），然后里面有多个项目，项目是共用整个生产平台的资源，也可以独立使用自己的资源，这样我们可以在统一的资源池里构建后续的所有项目。每个项目又分为多个模块，包括系统模块和业务模块，系统模块继承生产平台里的资源，也可以自己独立配置，而业务模块都是根据自己的业务模型进行开发。模块与模块之间是完全松散耦合的，模块内部又是完全高内聚的。因此我们可以将模块作为一个项目中的最小单位进行复用，甚至可以将一些好的模块打包成半成品的物料，开发人员只需要下载对应的物料继续开发即可。就像`Java`开发过程中一样，都是按照模块化的方式进行。我把这样的工程当作自己目标要实现的架构体系。

## vfront

这是框架的第一个版本，在之前公司时，就是这样命名的。自己也不会想名字，想着是`vue`系列的，怎么的也要带一个字母`v`，然后朝前看的一个前端框架，就这么命名了。这个框架也基本上是照抄网络上的很多模型得来的，因为公司要快速应用，所以像模像样搞了个出来了，今后再慢慢的往我想要的方向发展。新框架出来之后，东西交给了其他开发，由于当时忙于做其他的研究，这边忽略了对`vfront`的继续跟进。大概小半时间的时候，产品部跑过来跟我说这个框架有问题，我过去看了一下，发现整个框架已经被他们改的不再是原来的样子。很多基于本地工程化的`lib`被删减，同时项目的结构也是没有按照规范来进行。负责改框架的前端，年纪较大，不太喜欢使用`babel`等，所以依然是用很传统的方式进行开发。我提出将框架工程化的东西加入，遭到反对，甚至连一个`vuex`都要和我争论半天。一气之下，我自己重新建立了新的项目，不再过问`vfront`的生死。

## vsee

酝酿这个版本，并非真的是在抛弃`vfront`之后，而是很早的时候，因为有很多想法都要等着一些大神的`lib`更新到我想要的版本才行，尤其重视的就是`babel`、`webpack`。但是`vsee`的整体思路还是我之前定义的，只是换了个名字而已。之所以取这个名字，灵感源于阿凡达里的`I see`，我希望这个框架的简单就如同他的名字一样，我们都能显而易见的看到甚至是感受到。框架简化了入口的配置，为项目定一个模块的六大层级，每个层级之间单向连接，符合**MVC**的特点，使得项目构建起来非常的快捷，如同写**Demo**一样。之后离开公司，带着自己的亲儿子在新的公司里面让他不断运作，经历一些项目的打磨，又做了很多次的重构，现在这个框架也越来越成熟，使用起来越来越顺手。当然，由于自己写的框架都是源于往上各种开源框架的灵感，也应用了很多开源项目或`lib`。我是非常喜欢开源的，因此我也将自己的框架贡献到互联网中，希望能启发更多的人开发出更好的框架，为开发者提供福利。
