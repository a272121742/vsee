import { Story, Preview, Meta, Props } from '@storybook/addon-docs/blocks';

<Meta title="框架|国际化/规范" />

# 存在问题

国际化中存在四方国际化不统一的问题。

在`vsee`体系中，采用的是`*_*`的模式，因为`Ant Design`采用的是这个模式，然而在`renren`的框架下采用的是`PrimaryTag-SubTag`的方式。我们要统一的国际化关联语言包含在：

1. vsee (使用zh_CN)
2. Ant Design Vue (使用zh_CN)
3. moment （使用zh-cn）
4. renren (使用 zh-CN)

今后国际化的内容要通过请求头发送给服务端的，挂载在

```txt
Request Header
Accept-Language: zh-CN
```

[统一参考]（https://blog.csdn.net/u014549283/article/details/81742104?utm_source=blogxgwz5）

# 预行方案

统一标准将遵循如下准则：

1. [国标化 RFC 2616](http://www.ietf.org/rfc/rfc2616.txt)，使用`PrimaryTag-SubTag`格式，其中`PrimaryTag`是语言， 由**ISO 639-1**规定，`SubTag`是国家，由**ISO 6399**规定。
2. 普适化，大部分情况下`PrimaryTag`使用的全小写，`SubTag`使用的是全大写。这是具备**易读性**的，同时按照国际标准，浏览器并不区分大小写，因此我们将采用这一规范。
3. 统一化，和服务端协商，规范是否能达成统一，如果达成统一则按照此预行方案进行。

针对现有适配的语言，将上面的几种平台或库统一成如下格式（后续可持续追加）：

| 语言名称      | Accept-Language值 |
| ------------ | ----------------- |
| 中文简体      | zh-CN             |
| 中文繁体      | zh-TW             |
| 英语（美国）   | en-US             |
| 日语         | ja-JP             |
| 韩语（韩国）   | ko-KR            | 

[更多参考](http://www.lingoes.net/en/translator/langcode.htm)
[更多参考](https://html-shark.com/HTML/LanguageCodes.htm)
[更多参考](https://gist.github.com/JamieMason/3748498)


# 变更方案

变更方案需要和服务端进行协商，最终定稿之后进行实施。

## vsee框架的改进

`vsee`框架将采用现在指定的规范，但还需要作如下修订工作：

1. 提供转换规则配置，以便能适应服务端的约定；
2. 提供各种`PrimaryTag-SubTag`的转换函数，其目的是为了保证`moment`、`ant-design-vue`可以正确的加载文件（例如： `en-GB`转`en_GB`或`en-gb`）；
3. 提供统一的国际化存储`store`，并增加对应方法（例如：`getPrimaryTag`、`getSubTag`等）以判断语言环境，以及获取语言文件的信息（例如：`getMomentLocalFile`、`getAntdLocalFile`等）；
4. 国际化信息保存在cookie中，做唯一出入源，并作**盐值加密**；
5. 更改国际化配置方式，将原有的`json`模式改用`js`模式，并更改为标准模式；

## moment、antd、renren的改进

1. `moment`、`antd`保持不变，交由`vsee`进行改进；
2. `renren`要还原原来的适配特性；

## 国际化语言标识对照表

语言国际化规范：	http://www.ietf.org/rfc/rfc2616.txt

格式名称：	PrimaryTag-SubTag （PrimaryTag是语言，由ISO639-1规定，SubTag是国家，由ISO6399规定）

请求头字段：	Accept-Language
	
语言示例：	
- zh-CN 中文简体
-	zh-TW 中文繁体
-	en-US 英语（美国）
-	ja-JP 日语
-	ko-KR 韩语
-	…更多请参国际化语言对照表
	
请求头示例：	
- Accept-Language: zh-CN;
-	Accept-Language: zh-TW;
-	Accept-Language: en-US;
-	Accept-Language: ja-JP;
-	Accept-Language: ko-KR;

| Accept-Language | 英文名称                                                | 中文名称                                       |
| --------------- | ------------------------------------------------------- | ---------------------------------------------- |
| af-ZA           | Afrikaans (South Africa)                                | 南非荷兰语（南非）                             |
| ar-AE           | Arabic (U.A.E.)                                         | 阿拉伯语（阿联酋）                             |
| ar-BH           | Arabic (Bahrain)                                        | 阿拉伯语（巴林）                               |
| ar-DZ           | Arabic (Algeria)                                        | 阿拉伯语（阿尔及利亚）                         |
| ar-EG           | Arabic (Egypt)                                          | 阿拉伯语（埃及）                               |
| ar-IQ           | Arabic (Iraq)                                           | 阿拉伯语（伊拉克）                             |
| ar-JO           | Arabic (Jordan)                                         | 阿拉伯语（约旦）                               |
| ar-KW           | Arabic (Kuwait)                                         | 阿拉伯语（科威特）                             |
| ar-LB           | Arabic (Lebanon)                                        | 阿拉伯语（黎巴嫩）                             |
| ar-LY           | Arabic (Libya)                                          | 阿拉伯语（利比亚）                             |
| ar-MA           | Arabic (Morocco)                                        | 阿拉伯语（摩洛哥）                             |
| ar-OM           | Arabic (Oman)                                           | 阿拉伯语（阿曼）                               |
| ar-QA           | Arabic (Qatar)                                          | 阿拉伯语（卡塔尔）                             |
| ar-SA           | Arabic (Saudi Arabia)                                   | 阿拉伯语（沙特阿拉伯）                         |
| ar-SY           | Arabic (Syria)                                          | 阿拉伯语（叙利亚）                             |
| ar-TN           | Arabic (Tunisia)                                        | 阿拉伯语（突尼斯）                             |
| ar-YE           | Arabic (Yemen)                                          | 阿拉伯语（也门）                               |
| az-AZ           | Azeri (Latin) (Azerbaijan)                              | 阿塞拜疆语（拉丁语）（阿塞拜疆）               |
| az-AZ           | Azeri (Cyrillic) (Azerbaijan)                           | 阿塞拜疆语（西里尔文）（阿塞拜疆）             |
| be-BY           | Belarusian (Belarus)                                    | 白俄罗斯语（白俄罗斯）                         |
| bg-BG           | Bulgarian (Bulgaria)                                    | 保加利亚语（保加利亚）                         |
| bs-BA           | Bosnian (Bosnia and Herzegovina)                        | 波斯尼亚语（波斯尼亚和黑塞哥维那）             |
| ca-ES           | Catalan (Spain)                                         | 加泰罗尼亚语（西班牙）                         |
| cs-CZ           | Czech (Czech Republic)                                  | 捷克语（捷克共和国）                           |
| cy-GB           | Welsh (United Kingdom)                                  | 威尔士语（英国）                               |
| da-DK           | Danish (Denmark)                                        | 丹麦语（丹麦）                                 |
| de-AT           | German (Austria)                                        | 德语（奥地利）                                 |
| de-CH           | German (Switzerland)                                    | 德语（瑞士）                                   |
| de-DE           | German (Germany)                                        | 德语（德国）                                   |
| de-LI           | German (Liechtenstein)                                  | 德语（列支敦士登）                             |
| de-LU           | German (Luxembourg)                                     | 德语（卢森堡）                                 |
| dv-MV           | Divehi (Maldives)                                       | 迪维希（马尔代夫）                             |
| el-GR           | Greek (Greece)                                          | 希腊语（希腊）                                 |
| en-AU           | English (Australia)                                     | 英语（澳大利亚）                               |
| en-BZ           | English (Belize)                                        | 英语（伯利兹）                                 |
| en-CA           | English (Canada)                                        | 英语（加拿大）                                 |
| en-CB           | English (Caribbean)                                     | 英语（加勒比海）                               |
| en-GB           | English (United Kingdom)                                | 英语（英国）                                   |
| en-IE           | English (Ireland)                                       | 英语（爱尔兰）                                 |
| en-JM           | English (Jamaica)                                       | 英语（牙买加）                                 |
| en-NZ           | English (New Zealand)                                   | 英语（新西兰）                                 |
| en-PH           | English (Republic of the Philippines)                   | 英语（菲律宾共和国）                           |
| en-TT           | English (Trinidad and Tobago)                           | 英语（特立尼达和多巴哥）                       |
| en-US           | English (United States)                                 | 英语（美国）                                   |
| en-ZA           | English (South Africa)                                  | 英语（南非）                                   |
| en-ZW           | English (Zimbabwe)                                      | 英语（津巴布韦）                               |
| es-AR           | Spanish (Argentina)                                     | 西班牙语（阿根廷）                             |
| es-BO           | Spanish (Bolivia)                                       | 西班牙语（玻利维亚）                           |
| es-CL           | Spanish (Chile)                                         | 西班牙语（智利）                               |
| es-CO           | Spanish (Colombia)                                      | 西班牙语（哥伦比亚）                           |
| es-CR           | Spanish (Costa Rica)                                    | 西班牙语（哥斯达黎加）                         |
| es-DO           | Spanish (Dominican Republic)                            | 西班牙语（多米尼加共和国）                     |
| es-EC           | Spanish (Ecuador)                                       | 西班牙语（厄瓜多尔）                           |
| es-ES           | Spanish (Castilian)                                     | 西班牙语（卡斯蒂利亚语）                       |
| es-ES           | Spanish (Spain)                                         | 西班牙语（西班牙）                             |
| es-GT           | Spanish (Guatemala)                                     | 西班牙语（危地马拉）                           |
| es-HN           | Spanish (Honduras)                                      | 西班牙语（洪都拉斯）                           |
| es-MX           | Spanish (Mexico)                                        | 西班牙语（墨西哥）                             |
| es-NI           | Spanish (Nicaragua)                                     | 西班牙语（尼加拉瓜）                           |
| es-PA           | Spanish (Panama)                                        | 西班牙语（巴拿马）                             |
| es-PE           | Spanish (Peru)                                          | 西班牙语（秘鲁）                               |
| es-PR           | Spanish (Puerto Rico)                                   | 西班牙语（波多黎各）                           |
| es-PY           | Spanish (Paraguay)                                      | 西班牙语（巴拉圭）                             |
| es-SV           | Spanish (El Salvador)                                   | 西班牙语（萨尔瓦多）                           |
| es-UY           | Spanish (Uruguay)                                       | 西班牙语（乌拉圭）                             |
| es-VE           | Spanish (Venezuela)                                     | 西班牙语（委内瑞拉）                           |
| et-EE           | Estonian (Estonia)                                      | 爱沙尼亚语（爱沙尼亚）                         |
| eu-ES           | Basque (Spain)                                          | 巴斯克语（西班牙）                             |
| fa-IR           | Farsi (Iran)                                            | 波斯语（伊朗）                                 |
| fi-FI           | Finnish (Finland)                                       | 芬兰语（芬兰）                                 |
| fo-FO           | Faroese (Faroe Islands)                                 | 法罗群岛                                       |
| fr-BE           | French (Belgium)                                        | 法语（比利时）                                 |
| fr-CA           | French (Canada)                                         | 法语（加拿大）                                 |
| fr-CH           | French (Switzerland)                                    | 法语（瑞士）                                   |
| fr-FR           | French (France)                                         | 法语（法国）                                   |
| fr-LU           | French (Luxembourg)                                     | 法语（卢森堡）                                 |
| fr-MC           | French (Principality of Monaco)                         | 法语（摩纳哥公国）                             |
| gl-ES           | Galician (Spain)                                        | 加利西亚语（西班牙）                           |
| gu-IN           | Gujarati (India)                                        | 古吉拉特语（印度）                             |
| he-IL           | Hebrew (Israel)                                         | 希伯来语（以色列）                             |
| hi-IN           | Hindi (India)                                           | 印地语（印度）                                 |
| hr-BA           | Croatian (Bosnia and Herzegovina)                       | 克罗地亚语（波斯尼亚和黑塞哥维那）             |
| hr-HR           | Croatian (Croatia)                                      | 克罗地亚语（克罗地亚）                         |
| hu-HU           | Hungarian (Hungary)                                     | 匈牙利语（匈牙利）                             |
| hy-AM           | Armenian (Armenia)                                      | 亚美尼亚语（亚美尼亚）                         |
| id-ID           | Indonesian (Indonesia)                                  | 印度尼西亚语（印度尼西亚）                     |
| is-IS           | Icelandic (Iceland)                                     | 冰岛语（冰岛）                                 |
| it-CH           | Italian (Switzerland)                                   | 意大利语（瑞士）                               |
| it-IT           | Italian (Italy)                                         | 意大利语（意大利）                             |
| ja-JP           | Japanese (Japan)                                        | 日语（日本）                                   |
| ka-GE           | Georgian (Georgia)                                      | 格鲁吉亚语（格鲁吉亚）                         |
| kk-KZ           | Kazakh (Kazakhstan)                                     | 哈萨克语（哈萨克斯坦）                         |
| kn-IN           | Kannada (India)                                         | 卡纳达语（印度）                               |
| ko-KR           | Korean (Korea)                                          | 韩语（韩国）                                   |
| kok-IN          | Konkani (India)                                         | 孔卡尼语（印度）                               |
| ky-KG           | Kyrgyz (Kyrgyzstan)                                     | 吉尔吉斯（吉尔吉斯斯坦）                       |
| lt-LT           | Lithuanian (Lithuania)                                  | 立陶宛语（立陶宛）                             |
| lv-LV           | Latvian (Latvia)                                        | 拉脱维亚语（拉脱维亚）                         |
| mi-NZ           | Maori (New Zealand)                                     | 毛利人（新西兰）                               |
| mk-MK           | FYRO Macedonian (Former Yugoslav Republic of Macedonia) | 马其顿语（前南斯拉夫的马其顿共和国）           |
| mn-MN           | Mongolian (Mongolia)                                    | 蒙古语（蒙古）                                 |
| mr-IN           | Marathi (India)                                         | 马拉提语（印度）                               |
| ms-BN           | Malay (Brunei Darussalam)                               | 马来语（文莱达鲁萨兰国）                       |
| ms-MY           | Malay (Malaysia)                                        | 马来语（马来西亚）                             |
| mt-MT           | Maltese (Malta)                                         | 马耳他语（马耳他）                             |
| nb-NO           | Norwegian (Bokmal) (Norway)                             | 挪威语（博克马尔l）（挪威）                    |
| nl-BE           | Dutch (Belgium)                                         | 荷兰语（比利时）                               |
| nl-NL           | Dutch (Netherlands)                                     | 荷兰语（荷兰）                                 |
| nn-NO           | Norwegian (Nynorsk) (Norway)                            | 挪威语（尼诺斯克）（挪威）                     |
| ns-ZA           | Northern Sotho (South Africa)                           | 北部索托（南非）                               |
| pa-IN           | Punjabi (India)                                         | 旁遮普（印度）                                 |
| pl-PL           | Polish (Poland)                                         | 波兰语（波兰）                                 |
| ps-AR           | Pashto (Afghanistan)                                    | 普什图语（阿富汗）                             |
| pt-BR           | Portuguese (Brazil)                                     | 葡萄牙语（巴西）                               |
| pt-PT           | Portuguese (Portugal)                                   | 葡萄牙语（葡萄牙）                             |
| qu-BO           | Quechua (Bolivia)                                       | 克丘亚（玻利维亚）                             |
| qu-EC           | Quechua (Ecuador)                                       | 克丘亚（厄瓜多尔）                             |
| qu-PE           | Quechua (Peru)                                          | 克丘亚（秘鲁）                                 |
| ro-RO           | Romanian (Romania)                                      | 罗马尼亚语（罗马尼亚）                         |
| ru-RU           | Russian (Russia)                                        | 俄语（俄罗斯）                                 |
| sa-IN           | Sanskrit (India)                                        | 梵语（印度）                                   |
| se-FI           | Sami (Northern) (Finland)                               | 萨米语（北部）（芬兰）                         |
| se-FI           | Sami (Skolt) (Finland)                                  | 萨米语（斯科尔特）（芬兰）                     |
| se-FI           | Sami (Inari) (Finland)                                  | 萨米语（伊纳里）（芬兰）                       |
| se-NO           | Sami (Northern) (Norway)                                | 萨米语（北部）（挪威）                         |
| se-NO           | Sami (Lule) (Norway)                                    | 萨米语（卢勒）（挪威）                         |
| se-NO           | Sami (Southern) (Norway)                                | 萨米语（南部）（挪威）                         |
| se-SE           | Sami (Northern) (Sweden)                                | 萨米语（北部）（瑞典）                         |
| se-SE           | Sami (Lule) (Sweden)                                    | 萨米语（卢勒）（瑞典）                         |
| se-SE           | Sami (Southern) (Sweden)                                | 萨米语（南部）（瑞典）                         |
| sk-SK           | Slovak (Slovakia)                                       | 斯洛伐克语（斯洛伐克）                         |
| sl-SI           | Slovenian (Slovenia)                                    | 斯洛文尼亚语（斯洛文尼亚）                     |
| sq-AL           | Albanian (Albania)                                      | 阿尔巴尼亚语（阿尔巴尼亚）                     |
| sr-BA           | Serbian (Latin) (Bosnia and Herzegovina)                | 塞尔维亚语（拉丁语）（波斯尼亚和黑塞哥维那）   |
| sr-BA           | Serbian (Cyrillic) (Bosnia and Herzegovina)             | 塞尔维亚语（西里尔文）（波斯尼亚和黑塞哥维那） |
| sr-SP           | Serbian (Latin) (Serbia and Montenegro)                 | 塞尔维亚语（拉丁语）（塞尔维亚和黑山）         |
| sr-SP           | Serbian (Cyrillic) (Serbia and Montenegro)              | 塞尔维亚语（西里尔文）（塞尔维亚和黑山）       |
| sv-FI           | Swedish (Finland)                                       | 瑞典语（芬兰）                                 |
| sv-SE           | Swedish (Sweden)                                        | 瑞典语（瑞典）                                 |
| sw-KE           | Swahili (Kenya)                                         | 斯瓦希里语（肯尼亚）                           |
| syr-SY          | Syriac (Syria)                                          | 叙利亚语（叙利亚）                             |
| ta-IN           | Tamil (India)                                           | 泰米尔语（印度）                               |
| te-IN           | Telugu (India)                                          | 泰卢固语（印度）                               |
| th-TH           | Thai (Thailand)                                         | 泰语（泰国）                                   |
| tl-PH           | Tagalog (Philippines)                                   | 塔加洛语（菲律宾）                             |
| tn-ZA           | Tswana (South Africa)                                   | 茨瓦纳（南非）                                 |
| tr-TR           | Turkish (Turkey)                                        | 土耳其语（土耳其）                             |
| tt-RU           | Tatar (Russia)                                          | 鞑靼语（俄罗斯）                               |
| uk-UA           | Ukrainian (Ukraine)                                     | 乌克兰语（乌克兰）                             |
| ur-PK           | Urdu (Islamic Republic of Pakistan)                     | 乌尔都语（巴基斯坦伊斯兰共和国）               |
| uz-UZ           | Uzbek (Latin) (Uzbekistan)                              | 乌兹别克语（拉丁语）（乌兹别克斯坦）           |
| uz-UZ           | Uzbek (Cyrillic) (Uzbekistan)                           | 乌兹别克语（西里尔文）（乌兹别克斯坦）         |
| vi-VN           | Vietnamese (Viet Nam)                                   | 越南语（越南）                                 |
| xh-ZA           | Xhosa (South Africa)                                    | 科萨（南非）                                   |
| zh-CN           | Chinese (S)                                             | 中文                                           |
| zh-HK           | Chinese (Hong Kong)                                     | 中文（香港）                                   |
| zh-MO           | Chinese (Macau)                                         | 中文（澳门）                                   |
| zh-SG           | Chinese (Singapore)                                     | 中文（新加坡）                                 |
| zh-TW           | Chinese (T)                                             | 中文（台湾）                                   |
| zu-ZA           | Zulu (South Africa)                                     | 祖鲁语（南非）                                 |

